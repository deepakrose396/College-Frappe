{"version":3,"file":"ApplicantProfile-BczD5n1Z.js","sources":["../../../../frontend/src/components/ApplicantProfile.vue"],"sourcesContent":["<template>\n  <div class=\"max-w-3xl mx-auto mt-10 p-8 bg-white shadow-lg rounded-xl space-y-6\">\n    <!-- Header -->\n    <div class=\"flex items-center justify-between\">\n      <h2 class=\"text-2xl font-bold\">My Application</h2>\n    </div>\n\n    <!-- Status Card -->\n    <div\n      class=\"p-4 rounded-lg flex items-center gap-3\"\n      :class=\"statusCardClass\"\n    >\n      <span class=\"font-semibold\">{{ applicant.status }}</span>\n      <span class=\"text-sm opacity-80\">\n        {{\n          statusDescription[applicant.status] ||\n          \"Track your application progress\"\n        }}\n      </span>\n    </div>\n\n    <!-- Profile Form -->\n    <form @submit.prevent=\"updateProfile\" class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n      <div>\n        <label class=\"block font-medium mb-1\">First Name</label>\n        <input\n          v-model=\"applicant.first_name\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Last Name</label>\n        <input\n          v-model=\"applicant.last_name\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Email</label>\n        <input\n          v-model=\"applicant.email\"\n          type=\"email\"\n          disabled\n          class=\"w-full border p-2 rounded bg-gray-100\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Phone</label>\n        <input\n          v-model=\"applicant.phone\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Department</label>\n        <input\n          v-model=\"applicant.department\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Program</label>\n        <input\n          v-model=\"applicant.program\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div>\n        <label class=\"block font-medium mb-1\">Academic Year</label>\n        <input\n          v-model=\"applicant.academic_year\"\n          type=\"text\"\n          class=\"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400\"\n        />\n      </div>\n\n      <div class=\"flex items-center gap-2\">\n        <input\n          type=\"checkbox\"\n          v-model=\"applicant.paid\"\n          true-value=\"1\"\n          false-value=\"0\"\n          class=\"w-5 h-5\"\n        />\n        <label class=\"font-medium\">Payment Status</label>\n        <span\n          class=\"ml-2 text-sm px-2 py-1 rounded-full\"\n          :class=\"applicant.paid == 1 ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'\"\n        >\n          {{ applicant.paid == 1 ? \"Paid\" : \"Unpaid\" }}\n        </span>\n      </div>\n    </form>\n\n    <!-- Action Buttons -->\n    <div class=\"flex justify-end\">\n      <button\n        type=\"button\"\n        @click=\"updateProfile\"\n        class=\"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:opacity-50\"\n        :disabled=\"loading\"\n      >\n        {{ loading ? \"Updating...\" : \"Update Profile\" }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from \"vue\"\nimport { Badge } from \"frappe-ui\"\n\nconst applicant = ref({})\nconst loading = ref(false)\n\nasync function fetchProfile() {\n  const res = await fetch(\"/api/method/collage.api.applicant.get_my_applicant\")\n  const data = await res.json()\n  if (!data.exc) {\n    applicant.value = data.message\n  }\n}\n\nasync function updateProfile() {\n  loading.value = true\n\n  if (applicant.value.paid == 1) {\n    applicant.value.status = \"Applied\"\n  } else if (applicant.value.paid == 0) {\n    applicant.value.status = \"Payment Pending\"\n  }\n\n  const res = await fetch(\"/api/method/collage.api.applicant.update_my_applicant\", {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ data: applicant.value }),\n  })\n\n  const data = await res.json()\n  loading.value = false\n\n  if (!data.exc) {\n    alert(\"✅ Profile updated successfully\")\n  } else {\n    alert(\"❌ Update failed\")\n  }\n}\n\nconst statusThemeMap = {\n  Applied: \"blue\",\n  \"Payment Pending\": \"yellow\",\n  Shortlisted: \"cyan\",\n  Selected: \"green\",\n  \"Wait Listed\": \"gray\",\n  Rejected: \"red\",\n}\n\nconst statusDescription = {\n  Applied: \"Your application has been submitted.\",\n  \"Payment Pending\": \"Please complete the payment to proceed.\",\n  Shortlisted: \"You’ve been shortlisted! Await further instructions.\",\n  Selected: \"🎉 Congratulations! You are selected.\",\n  \"Wait Listed\": \"You’re on the waitlist, stay tuned.\",\n  Rejected: \"Unfortunately, your application was not successful.\",\n}\n\nconst statusTheme = computed(() => statusThemeMap[applicant.value.status] || \"gray\")\n\nconst statusCardClass = computed(() => {\n  return {\n    \"bg-blue-100 text-blue-800\": applicant.value.status === \"Applied\",\n    \"bg-yellow-100 text-yellow-800\": applicant.value.status === \"Payment Pending\",\n    \"bg-cyan-100 text-cyan-800\": applicant.value.status === \"Shortlisted\",\n    \"bg-green-100 text-green-800\": applicant.value.status === \"Selected\",\n    \"bg-gray-100 text-gray-800\": applicant.value.status === \"Wait Listed\",\n    \"bg-red-100 text-red-800\": applicant.value.status === \"Rejected\",\n  }\n})\n\nonMounted(fetchProfile)\n</script>\n"],"names":["applicant","ref","loading","fetchProfile","__async","data","updateProfile","statusThemeMap","statusDescription","computed","statusCardClass","onMounted","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_normalizeClass","_hoisted_2","_toDisplayString","_hoisted_3","_cache","$event","_vModelText","_hoisted_4","_vModelCheckbox","_hoisted_5","_hoisted_6"],"mappings":"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"}