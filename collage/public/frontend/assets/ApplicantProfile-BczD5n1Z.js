var f=(c,t,n)=>new Promise((p,i)=>{var m=s=>{try{d(n.next(s))}catch(e){i(e)}},b=s=>{try{d(n.throw(s))}catch(e){i(e)}},d=s=>s.done?p(s.value):Promise.resolve(s.value).then(m,b);d((n=n.apply(c,t)).next())});import{r as g,j as v,q as x,b as w,o as P,d as l,t as r,x as y,p as o,v as u,y as k,i as U}from"./index-BmA6OMtU.js";const S={class:"max-w-3xl mx-auto mt-10 p-8 bg-white shadow-lg rounded-xl space-y-6"},j={class:"font-semibold"},V={class:"text-sm opacity-80"},A={class:"flex items-center gap-2"},C={class:"flex justify-end"},M=["disabled"],D={__name:"ApplicantProfile",setup(c){const t=g({}),n=g(!1);function p(){return f(this,null,function*(){const e=yield(yield fetch("/api/method/collage.api.applicant.get_my_applicant")).json();e.exc||(t.value=e.message)})}function i(){return f(this,null,function*(){n.value=!0,t.value.paid==1?t.value.status="Applied":t.value.paid==0&&(t.value.status="Payment Pending");const e=yield(yield fetch("/api/method/collage.api.applicant.update_my_applicant",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:t.value})})).json();n.value=!1,e.exc?alert("❌ Update failed"):alert("✅ Profile updated successfully")})}const m={Applied:"blue","Payment Pending":"yellow",Shortlisted:"cyan",Selected:"green","Wait Listed":"gray",Rejected:"red"},b={Applied:"Your application has been submitted.","Payment Pending":"Please complete the payment to proceed.",Shortlisted:"You’ve been shortlisted! Await further instructions.",Selected:"🎉 Congratulations! You are selected.","Wait Listed":"You’re on the waitlist, stay tuned.",Rejected:"Unfortunately, your application was not successful."};v(()=>m[t.value.status]||"gray");const d=v(()=>({"bg-blue-100 text-blue-800":t.value.status==="Applied","bg-yellow-100 text-yellow-800":t.value.status==="Payment Pending","bg-cyan-100 text-cyan-800":t.value.status==="Shortlisted","bg-green-100 text-green-800":t.value.status==="Selected","bg-gray-100 text-gray-800":t.value.status==="Wait Listed","bg-red-100 text-red-800":t.value.status==="Rejected"}));return x(p),(s,e)=>(P(),w("div",S,[e[16]||(e[16]=l("div",{class:"flex items-center justify-between"},[l("h2",{class:"text-2xl font-bold"},"My Application")],-1)),l("div",{class:y(["p-4 rounded-lg flex items-center gap-3",d.value])},[l("span",j,r(t.value.status),1),l("span",V,r(b[t.value.status]||"Track your application progress"),1)],2),l("form",{onSubmit:U(i,["prevent"]),class:"grid grid-cols-1 md:grid-cols-2 gap-6"},[l("div",null,[e[8]||(e[8]=l("label",{class:"block font-medium mb-1"},"First Name",-1)),o(l("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.first_name=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.first_name]])]),l("div",null,[e[9]||(e[9]=l("label",{class:"block font-medium mb-1"},"Last Name",-1)),o(l("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.last_name=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.last_name]])]),l("div",null,[e[10]||(e[10]=l("label",{class:"block font-medium mb-1"},"Email",-1)),o(l("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.email=a),type:"email",disabled:"",class:"w-full border p-2 rounded bg-gray-100"},null,512),[[u,t.value.email]])]),l("div",null,[e[11]||(e[11]=l("label",{class:"block font-medium mb-1"},"Phone",-1)),o(l("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.phone=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.phone]])]),l("div",null,[e[12]||(e[12]=l("label",{class:"block font-medium mb-1"},"Department",-1)),o(l("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.department=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.department]])]),l("div",null,[e[13]||(e[13]=l("label",{class:"block font-medium mb-1"},"Program",-1)),o(l("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.program=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.program]])]),l("div",null,[e[14]||(e[14]=l("label",{class:"block font-medium mb-1"},"Academic Year",-1)),o(l("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.academic_year=a),type:"text",class:"w-full border p-2 rounded focus:ring-2 focus:ring-blue-400"},null,512),[[u,t.value.academic_year]])]),l("div",A,[o(l("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=a=>t.value.paid=a),"true-value":"1","false-value":"0",class:"w-5 h-5"},null,512),[[k,t.value.paid]]),e[15]||(e[15]=l("label",{class:"font-medium"},"Payment Status",-1)),l("span",{class:y(["ml-2 text-sm px-2 py-1 rounded-full",t.value.paid==1?"bg-green-100 text-green-700":"bg-red-100 text-red-700"])},r(t.value.paid==1?"Paid":"Unpaid"),3)])],32),l("div",C,[l("button",{type:"button",onClick:i,class:"px-6 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 disabled:opacity-50",disabled:n.value},r(n.value?"Updating...":"Update Profile"),9,M)])]))}};export{D as default};
//# sourceMappingURL=ApplicantProfile-BczD5n1Z.js.map
